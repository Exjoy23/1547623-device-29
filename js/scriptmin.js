'use strict';function createSlider(a,b,c,d){a.addEventListener("click",e=>{e.preventDefault(),c.forEach(a=>{a.classList.remove("current"),d.forEach(a=>{a.classList.add("visually__hidden")})}),a.classList.add("current"),d[b].classList.remove("visually__hidden")})}function openModal(a){a.classList.add("current"),a.classList.add("show")}function closeModal(a){a.classList.add("hide"),removeClassOnTimer(a,"current",1e3),removeClassOnTimer(a,"show",1e3),removeClassOnTimer(a,"hide",1e3)}function removeClassOnTimer(a,b,c){setTimeout(()=>a.classList.remove(b),c)}const gallery=document.querySelector(".gallery"),gallerySlides=gallery.querySelectorAll(".gallery__slider__item"),galleryButtons=gallery.querySelectorAll(".gallery__slider__control__button");galleryButtons.forEach((a,b)=>{createSlider(a,b,galleryButtons,gallerySlides)});const services=document.querySelector(".services"),servicesSlides=services.querySelectorAll(".services__item"),servicesButtons=services.querySelectorAll(".services__list__control__link");servicesButtons.forEach((a,b)=>{createSlider(a,b,servicesButtons,servicesSlides)});const info=document.querySelector(".info"),openMap=info.querySelector(".contacts__link__map"),closeMap=info.querySelector(".contacts__map__button"),map=info.querySelector(".contacts__map");openMap.addEventListener("click",a=>{a.preventDefault(),openModal(map)}),closeMap.addEventListener("click",a=>{a.preventDefault(),closeModal(map)});const openPopup=info.querySelector(".contacts__link"),closePopup=info.querySelector(".contacts__popup__button"),popup=info.querySelector(".contacts__popup"),inputPopup=popup.querySelectorAll(".popup__input"),submitPopup=popup.querySelector(".contacts__popup__submit");let isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(a){isStorageSupport=!1}openPopup.addEventListener("click",a=>{a.preventDefault(),openModal(popup),storageName&&storageEmail&&(inputPopup[0].value=storageName,inputPopup[1].value=storageEmail),inputPopup[0].value?inputPopup[1].value?inputPopup[2].focus():inputPopup[1].focus():inputPopup[0].focus()}),closePopup.addEventListener("click",a=>{a.preventDefault(),closeModal(popup)}),submitPopup.addEventListener("click",a=>{inputPopup.forEach(b=>{if(!b.value){a.preventDefault();b.classList.add("wrong"),setTimeout(()=>{b.classList.remove("wrong")},500)}else isStorageSupport&&(localStorage.setItem("name",inputPopup[0].value),localStorage.setItem("email",inputPopup[1].value))})});